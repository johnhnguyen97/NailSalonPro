<app-page-container>
  <div class="calendar-container">
    <mat-card>
      <div class="calendar-header">
        <div class="calendar-controls">
          <!-- Left Side: Today Button -->
          <button mat-stroked-button class="today-btn" (click)="goToToday()">
            <mat-icon>today</mat-icon>
            Today
          </button>

          <!-- Center: Month Navigation -->
          <div class="month-nav">
            <button mat-icon-button (click)="navigate('prev')">
              <mat-icon>chevron_left</mat-icon>
            </button>
            <span class="current-date">{{ currentDate | date:'MMM d, yyyy' }}</span>
            <button mat-icon-button (click)="navigate('next')">
              <mat-icon>chevron_right</mat-icon>
            </button>
          </div>

          <!-- Right Side: View Toggle -->
          <div class="view-controls">
            <div class="view-toggle">
              <button mat-button
                      *ngFor="let view of views" 
                      [class.active]="calendarView === view"
                      (click)="setView(view)">
                {{view | titlecase}}
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="calendar-content">
        <div class="calendar-grid">
          <div class="calendar-scroll-container">
            <div class="days-header">
              <div class="timezone-label">
                <mat-icon>schedule</mat-icon>
                <span class="timezone-text">{{timezone}}</span>
              </div>
              <div class="day-label">Mon</div>
              <div class="day-label">Tue</div>
              <div class="day-label">Wed</div>
              <div class="day-label">Thu</div>
              <div class="day-label">Fri</div>
              <div class="day-label">Sat</div>
              <div class="day-label">Sun</div>
            </div>

            <div class="calendar-body">
              <!-- Time Column -->
              <div class="timezone-column">
                <div class="time-slot" *ngFor="let hour of hours">
                  {{formatHour(hour)}}:00
                </div>
              </div>
              
              <!-- Day columns -->
              <div class="calendar-columns">
                <div class="day-column" *ngFor="let day of days">
                  <div class="time-slot" *ngFor="let hour of hours"></div>
                </div>
              </div>

              <!-- Current Time Indicator -->
              <div class="current-time-indicator" [style.top.px]="currentTimePosition">
                <div class="time-marker"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-card>
  </div>
</app-page-container>
