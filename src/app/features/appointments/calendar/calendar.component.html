<app-page-container>
  <div class="calendar-container">
    <mat-card>
      <div class="calendar-header">
        <div class="calendar-controls">
          <div class="view-controls">
            <mat-button-toggle-group [(ngModel)]="currentView" name="viewMode">
              <mat-button-toggle value="month">Month</mat-button-toggle>
              <mat-button-toggle value="week">Week</mat-button-toggle>
              <mat-button-toggle value="day">Day</mat-button-toggle>
            </mat-button-toggle-group>
          </div>

          <div class="nav-section">
            <button mat-icon-button (click)="previousPeriod()">
              <mat-icon>chevron_left</mat-icon>
            </button>
            <span class="current-date">{{ getFormattedDate() }}</span>
            <button mat-icon-button (click)="nextPeriod()">
              <mat-icon>chevron_right</mat-icon>
            </button>
          </div>

          <div class="actions-section">
            <div class="timezone-select">
              <mat-form-field appearance="outline" class="dense-field">
                <mat-select [(ngModel)]="currentTimezone">
                  <mat-option *ngFor="let tz of timeZones" [value]="tz.value">
                    {{ tz.label }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <button mat-flat-button color="primary" class="new-appointment-btn">
              <mat-icon>add</mat-icon>
              <span>New</span>
            </button>
          </div>
        </div>
      </div>

      <div class="calendar-content">
        <div class="calendar-grid">
          <div class="calendar-header">
            <div class="header-cell time-header">Time</div>
            <div class="header-cell" *ngFor="let day of weekDays">{{ day }}</div>
          </div>

          <div class="calendar-body">
            <div class="time-slots">
              <div class="time-slot" *ngFor="let hour of timeSlots">
                {{ hour }}
              </div>
            </div>
            
            <div class="week-grid">
              <div class="day-column" *ngFor="let day of weekDays">
                <div class="time-slot" *ngFor="let hour of timeSlots">
                  <div class="appointments">
                    <div class="appointment" *ngIf="hasAppointment(day, hour)">
                      <div class="appointment-content">
                        <span class="time">{{hour}}</span>
                        <span class="title">Client Meeting</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-card>
  </div>
</app-page-container>
