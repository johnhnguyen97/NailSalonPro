@import '../../../styles/mixins'

.calendar-container
  @include card-container
  padding: var(--spacing-md)

  mat-card
    @include base-card
    height: calc(100vh - 120px)

    mat-card-header
      padding: 0
      margin-bottom: 0
      .mat-mdc-card-header-text
        display: none

    mat-card-content
      flex: 1
      overflow: hidden
      padding: 0
      margin: 0

.calendar-header
  width: 100%
  padding: var(--spacing-md) var(--spacing-lg)
  border-bottom: 1px solid var(--border-color)
  background-color: white

  .calendar-controls
    display: flex
    align-items: center
    justify-content: space-between
    gap: var(--spacing-lg)

    .mat-button-toggle-group
      height: 36px
      border-radius: var(--border-radius)
      background-color: var(--background-lighter)
      border: none
      overflow: hidden

      .mat-button-toggle
        line-height: 36px
        font-size: var(--font-size-sm)
        font-weight: var(--font-weight-medium)
        min-width: 80px
        background-color: transparent
        color: var(--text-secondary)
        border: none

        &.mat-button-toggle-checked
          background-color: white
          color: var(--text-primary)
          box-shadow: var(--card-shadow)

    .calendar-nav
      display: flex
      align-items: center
      gap: var(--spacing-sm)
      
      button[mat-icon-button]
        width: 36px
        height: 36px
        line-height: 36px
        color: var(--text-secondary)

        &:hover
          background-color: var(--hover-color)

        mat-icon
          font-size: var(--font-size-md)
          width: var(--font-size-md)
          height: var(--font-size-md)

      button[mat-button]
        height: 36px
        font-size: var(--font-size-sm)
        font-weight: var(--font-weight-medium)
        color: var(--text-primary)
        padding: 0 var(--spacing-md)

        &:hover
          background-color: var(--hover-color)
      
      h2
        margin: 0 var(--spacing-md)
        font-size: var(--font-size-md)
        font-weight: var(--font-weight-medium)
        color: var(--text-primary)
        min-width: 120px
        text-align: center

    button[mat-flat-button]
      height: 36px
      padding: 0 var(--spacing-lg)
      font-size: var(--font-size-sm)
      font-weight: var(--font-weight-medium)
      border-radius: var(--border-radius)
      box-shadow: var(--card-shadow)

      mat-icon
        margin-right: var(--spacing-xs)
        font-size: var(--font-size-md)
        width: var(--font-size-md)
        height: var(--font-size-md)

.calendar-layout
  display: flex
  flex-direction: column
  height: 100%
  background-color: white
  overflow: hidden

.calendar-headers
  display: flex
  background-color: var(--background-lighter)
  border-bottom: 1px solid var(--border-color)
  position: sticky
  top: 0
  z-index: 2

.time-header
  min-width: 80px
  height: 48px
  display: flex
  align-items: center
  justify-content: center
  border-right: 1px solid var(--border-color)
  background-color: var(--background-lighter)

  mat-icon
    color: var(--text-secondary)
    font-size: var(--font-size-md)
    width: var(--font-size-md)
    height: var(--font-size-md)

.day-headers
  display: grid
  grid-template-columns: repeat(7, 1fr)
  flex: 1

.day-header
  height: 48px
  display: flex
  align-items: center
  justify-content: center
  font-weight: var(--font-weight-medium)
  font-size: var(--font-size-sm)
  border-left: 1px solid var(--border-color)
  text-transform: uppercase
  color: var(--text-secondary)
  letter-spacing: 0.5px
  &:first-child
    border-left: none

.calendar-scroll-container
  flex: 1
  overflow-y: auto
  @include hide-scrollbar

.calendar-content
  display: flex
  min-height: min-content

.time-column
  min-width: 80px
  background-color: white
  border-right: 1px solid var(--border-color)
  flex-shrink: 0

.time-box
  height: 60px
  display: flex
  align-items: center
  justify-content: center
  font-size: var(--font-size-sm)
  border-bottom: 1px solid var(--border-color)
  color: var(--text-secondary)
  font-weight: var(--font-weight-medium)
  background-color: white

.time-slots-grid
  display: grid
  grid-template-columns: repeat(7, 1fr)
  flex: 1

.day-column
  display: flex
  flex-direction: column
  border-left: 1px solid var(--border-color)
  &:first-child
    border-left: none

.time-slot
  height: 60px
  border-bottom: 1px solid var(--border-color)
  transition: background-color 0.2s ease
  &:hover
    background-color: var(--hover-color)

@media screen and (max-width: 768px)
  .calendar-container
    padding: var(--spacing-sm)

    mat-card
      height: calc(100vh - 80px)

  .calendar-header
    .calendar-controls
      flex-wrap: wrap
      gap: var(--spacing-md)

      .calendar-nav
        order: -1
        width: 100%
        justify-content: space-between

      .mat-button-toggle-group
        flex: 1

      button[mat-flat-button]
        span
          display: none

@media screen and (max-width: 600px)
  .calendar-container
    padding: 0

    mat-card
      height: 100vh
      border-radius: 0

  .time-column
    min-width: 50px

  .time-box
    font-size: var(--font-size-xs)
    padding: var(--spacing-xs)

  .day-header
    font-size: var(--font-size-xs)
    padding: var(--spacing-xs)

  .calendar-header
    padding: var(--spacing-sm)
